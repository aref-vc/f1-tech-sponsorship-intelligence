<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Technology Sponsorship Intelligence</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
    <style>
        :root {
            /* Midnight Flame - Dark & dramatic with fire accent */
            --font-family: 'JetBrains Mono', monospace;

            /* Backgrounds */
            --bg-main: #FFFCF2;
            --bg-main-rgb: 255, 252, 242;
            --bg-white: #FDF9ED;
            --bg-white-rgb: 253, 249, 237;
            --bg-accent: #F5F3EE;
            --bg-accent-rgb: 245, 243, 238;

            /* Text Colors */
            --text-primary: #252422;
            --text-primary-rgb: 37, 36, 34;
            --text-secondary: #403D39;
            --text-secondary-rgb: 64, 61, 57;
            --text-light: #CCC5B9;
            --text-light-rgb: 204, 197, 185;

            /* UI Colors */
            --accent: #EB5E28;
            --accent-rgb: 235, 94, 40;
            --dark: #403D39;
            --dark-rgb: 64, 61, 57;
            --gray: #CCC5B9;
            --gray-rgb: 204, 197, 185;
            --black: #252422;
            --black-rgb: 37, 36, 34;

            /* Borders */
            --border: #DDD7CC;
            --border-rgb: 221, 215, 204;
            --border-light: #F0EDE6;
            --border-light-rgb: 240, 237, 230;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            background: var(--bg-main);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 60px;
            padding: 40px 20px;
            background: var(--bg-white);
            border: 2px solid var(--border);
            border-radius: 12px;
        }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
            letter-spacing: -1px;
        }

        .subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            font-weight: 400;
            margin-bottom: 24px;
        }

        .header-stats {
            display: flex;
            justify-content: center;
            gap: 60px;
            margin-top: 32px;
            flex-wrap: wrap;
        }

        .stat-box {
            text-align: center;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 700;
            color: var(--accent);
            display: block;
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 8px;
        }

        /* Grid Layout */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        /* Chart Cards */
        .chart-card {
            background: var(--bg-white);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 32px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .chart-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(37, 36, 34, 0.08);
        }

        .chart-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .chart-description {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 24px;
        }

        .chart-container {
            position: relative;
            height: 400px;
        }

        .chart-container.tall {
            height: 500px;
        }

        .chart-container.medium {
            height: 350px;
        }

        /* Insights Section */
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .insight-card {
            background: var(--bg-accent);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 24px;
        }

        .insight-icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
            color: var(--accent);
        }

        .material-icons {
            font-family: 'Material Icons';
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            display: inline-block;
            line-height: 1;
            text-transform: none;
            letter-spacing: normal;
            word-wrap: normal;
            white-space: nowrap;
            direction: ltr;
        }

        .insight-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .insight-text {
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .insight-highlight {
            color: var(--accent);
            font-weight: 600;
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 60px;
            padding: 32px;
            background: var(--bg-white);
            border: 2px solid var(--border);
            border-radius: 12px;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1rem;
            }

            .grid {
                grid-template-columns: 1fr;
            }

            .header-stats {
                gap: 30px;
            }

            .stat-number {
                font-size: 2rem;
            }

            .chart-container {
                height: 300px;
            }

            .chart-container.tall {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>F1 Technology Sponsorship Intelligence</h1>
            <p class="subtitle">Analyzing Technology Sponsor Penetration Across 10 Formula 1 Teams</p>

            <div class="header-stats">
                <div class="stat-box">
                    <span class="stat-number">302</span>
                    <span class="stat-label">Total Sponsors</span>
                </div>
                <div class="stat-box">
                    <span class="stat-number">86</span>
                    <span class="stat-label">Tech Sponsors</span>
                </div>
                <div class="stat-box">
                    <span class="stat-number">29.4%</span>
                    <span class="stat-label">Avg Tech %</span>
                </div>
            </div>
        </header>

        <!-- Key Insights -->
        <div class="insights-grid">
            <div class="insight-card">
                <div class="insight-icon">
                    <span class="material-icons" style="font-size: 2.5rem;">emoji_events</span>
                </div>
                <h3 class="insight-title">Tech Leader</h3>
                <p class="insight-text">
                    <span class="insight-highlight">Mercedes-AMG Petronas</span> leads with 44.0% of their portfolio in technology sponsors, despite having fewer total sponsors than competitors.
                </p>
            </div>

            <div class="insight-card">
                <div class="insight-icon">
                    <span class="material-icons" style="font-size: 2.5rem;">bar_chart</span>
                </div>
                <h3 class="insight-title">Portfolio Size Leader</h3>
                <p class="insight-text">
                    <span class="insight-highlight">BWT Alpine</span> has the largest sponsor portfolio with 49 partners, but only 20.4% are in technology.
                </p>
            </div>

            <div class="insight-card">
                <div class="insight-icon">
                    <span class="material-icons" style="font-size: 2.5rem;">gps_fixed</span>
                </div>
                <h3 class="insight-title">Tech Concentration</h3>
                <p class="insight-text">
                    Top 3 teams (Mercedes, McLaren, Visa Cash App) average <span class="insight-highlight">40.1% tech penetration</span>, significantly above the league average of 29.4%.
                </p>
            </div>

            <div class="insight-card">
                <div class="insight-icon">
                    <span class="material-icons" style="font-size: 2.5rem;">warning</span>
                </div>
                <h3 class="insight-title">Underperformers</h3>
                <p class="insight-text">
                    <span class="insight-highlight">Ferrari, Aston Martin, and Haas</span> have the lowest tech sponsor percentages (19.4%, 22.6%, 22.7%) despite large portfolios.
                </p>
            </div>
        </div>

        <!-- Charts Grid -->
        <div class="grid">
            <!-- Chart 1: Tech % Ranking -->
            <div class="chart-card">
                <h2 class="chart-title">TECHNOLOGY SPONSOR PENETRATION RATE</h2>
                <p class="chart-description">Percentage of total sponsors in the technology category - ranked by tech penetration</p>
                <div class="chart-container tall">
                    <canvas id="techPercentChart"></canvas>
                </div>
            </div>

            <!-- Chart 2: Total Sponsors Ranking -->
            <div class="chart-card">
                <h2 class="chart-title">TOTAL SPONSOR PORTFOLIO SIZE</h2>
                <p class="chart-description">Overall number of sponsors per team - ranked by portfolio size</p>
                <div class="chart-container tall">
                    <canvas id="totalSponsorsChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Charts Grid - Row 2 -->
        <div class="grid">
            <!-- Chart 4: Tech Sponsor Count -->
            <div class="chart-card">
                <h2 class="chart-title">TECHNOLOGY SPONSOR COUNT BY TEAM</h2>
                <p class="chart-description">Absolute number of technology sponsors - showing which teams attract the most tech partners</p>
                <div class="chart-container">
                    <canvas id="techCountChart"></canvas>
                </div>
            </div>

            <!-- Chart 5: Scatter Plot -->
            <div class="chart-card">
                <h2 class="chart-title">PORTFOLIO SIZE VS TECH PENETRATION</h2>
                <p class="chart-description">Relationship between total sponsors and technology percentage - bubble size = tech sponsors</p>
                <div class="chart-container">
                    <canvas id="scatterChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Chart 6: Donut Overview -->
        <div class="grid">
            <div class="chart-card">
                <h2 class="chart-title">OVERALL TECH VS NON-TECH DISTRIBUTION</h2>
                <p class="chart-description">Aggregate breakdown of technology and non-technology sponsors across all teams</p>
                <div class="chart-container">
                    <canvas id="donutChart"></canvas>
                </div>
            </div>

            <!-- Chart 7: Stacked Bar -->
            <div class="chart-card">
                <h2 class="chart-title">SPONSOR COMPOSITION BREAKDOWN</h2>
                <p class="chart-description">Stacked view showing tech (orange) vs non-tech (gray) sponsors for each team</p>
                <div class="chart-container">
                    <canvas id="stackedChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Technology Category Breakdown by Team -->
        <div class="grid">
            <div class="chart-card">
                <h2 class="chart-title">TEAM TECHNOLOGY CATEGORY COVERAGE</h2>
                <p class="chart-description">Distribution of technology sponsors across categories for each F1 team - showing which tech areas each team prioritizes</p>
                <div class="chart-container tall">
                    <canvas id="teamCategoryChart"></canvas>
                </div>
            </div>

            <div class="chart-card">
                <h2 class="chart-title">TECHNOLOGY CATEGORY DISTRIBUTION</h2>
                <p class="chart-description">Breakdown of technology categories across all F1 teams - highlighting focus areas</p>
                <div class="chart-container">
                    <canvas id="categoryDistributionChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <p>F1 Technology Sponsorship Intelligence Report | Falcon HQ - 2025</p>
            <p style="margin-top: 8px; opacity: 0.7;">Dataset: 10 Formula 1 Teams | 302 Total Sponsors | 86 Technology Sponsors</p>
        </footer>
    </div>

    <script>
        // Data
        const data = [
            { team: "McLaren F1 Team", total: 38, tech: 15, percent: 0.395 },
            { team: "Mercedes-AMG Petronas F1 Team", total: 25, tech: 11, percent: 0.440 },
            { team: "Visa Cash App Racing Bulls", total: 19, tech: 7, percent: 0.368 },
            { team: "Atlassian Williams Racing", total: 22, tech: 7, percent: 0.318 },
            { team: "Oracle Red Bull Racing", total: 34, tech: 10, percent: 0.294 },
            { team: "Kick Sauber F1 Team", total: 26, tech: 7, percent: 0.269 },
            { team: "MoneyGram Haas F1 Team", total: 22, tech: 5, percent: 0.227 },
            { team: "Aston Martin Aramco F1 Team", total: 31, tech: 7, percent: 0.226 },
            { team: "BWT Alpine F1 Team", total: 49, tech: 10, percent: 0.204 },
            { team: "Scuderia Ferrari HP", total: 36, tech: 7, percent: 0.194 }
        ];

        // Shorten team names for better display
        const teamShortNames = {
            "McLaren F1 Team": "McLaren",
            "Mercedes-AMG Petronas F1 Team": "Mercedes",
            "Visa Cash App Racing Bulls": "Racing Bulls",
            "Atlassian Williams Racing": "Williams",
            "Oracle Red Bull Racing": "Red Bull",
            "Kick Sauber F1 Team": "Sauber",
            "MoneyGram Haas F1 Team": "Haas",
            "Aston Martin Aramco F1 Team": "Aston Martin",
            "BWT Alpine F1 Team": "Alpine",
            "Scuderia Ferrari HP": "Ferrari"
        };

        // Colors
        const accentColor = 'rgb(235, 94, 40)';
        const accentColorAlpha = 'rgba(235, 94, 40, 0.8)';
        const darkColor = 'rgb(64, 61, 57)';
        const grayColor = 'rgb(204, 197, 185)';
        const lightBg = 'rgb(253, 249, 237)';

        // Chart defaults
        Chart.defaults.font.family = "'JetBrains Mono', monospace";
        Chart.defaults.font.size = 12;
        Chart.defaults.color = 'rgb(37, 36, 34)';

        // Register datalabels plugin
        Chart.register(ChartDataLabels);

        // Disable datalabels by default
        Chart.defaults.set('plugins.datalabels', {
            display: false
        });

        // 1. Tech Percent Ranking (Horizontal Bar)
        const sortedByPercent = [...data].sort((a, b) => b.percent - a.percent);
        new Chart(document.getElementById('techPercentChart'), {
            type: 'bar',
            data: {
                labels: sortedByPercent.map(d => teamShortNames[d.team]),
                datasets: [{
                    label: 'Tech %',
                    data: sortedByPercent.map(d => (d.percent * 100).toFixed(1)),
                    backgroundColor: accentColorAlpha,
                    borderWidth: 0,
                    borderRadius: 6,
                    borderSkipped: 'start'
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: (context) => `${context.parsed.x}% of sponsors are in tech`
                        }
                    },
                    datalabels: {
                        display: true,
                        align: 'end',
                        anchor: 'end',
                        color: darkColor,
                        font: {
                            weight: '600',
                            size: 11
                        },
                        formatter: (value) => value + '%'
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 50,
                        grid: { color: 'rgba(221, 215, 204, 0.3)' },
                        ticks: { callback: (value) => value + '%' }
                    },
                    y: {
                        grid: { display: false }
                    }
                }
            }
        });

        // 2. Total Sponsors Ranking (Horizontal Bar)
        const sortedByTotal = [...data].sort((a, b) => b.total - a.total);
        new Chart(document.getElementById('totalSponsorsChart'), {
            type: 'bar',
            data: {
                labels: sortedByTotal.map(d => teamShortNames[d.team]),
                datasets: [{
                    label: 'Total Sponsors',
                    data: sortedByTotal.map(d => d.total),
                    backgroundColor: darkColor,
                    borderWidth: 0,
                    borderRadius: 6,
                    borderSkipped: 'start'
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: (context) => `${context.parsed.x} total sponsors`
                        }
                    },
                    datalabels: {
                        display: true,
                        align: 'right',
                        anchor: 'end',
                        offset: 4,
                        color: darkColor,
                        font: {
                            weight: '600',
                            size: 11
                        },
                        formatter: (value) => value
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        grid: { color: 'rgba(221, 215, 204, 0.3)' }
                    },
                    y: {
                        grid: { display: false }
                    }
                }
            }
        });

        // 3. Tech Count (Bar Chart)
        const sortedByTech = [...data].sort((a, b) => b.tech - a.tech);
        new Chart(document.getElementById('techCountChart'), {
            type: 'bar',
            data: {
                labels: sortedByTech.map(d => teamShortNames[d.team]),
                datasets: [{
                    label: 'Tech Sponsors',
                    data: sortedByTech.map(d => d.tech),
                    backgroundColor: accentColorAlpha,
                    borderWidth: 0,
                    borderRadius: 6,
                    borderSkipped: 'bottom'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    datalabels: {
                        display: true,
                        align: 'end',
                        anchor: 'end',
                        color: darkColor,
                        font: {
                            weight: '600',
                            size: 11
                        },
                        formatter: (value) => value
                    }
                },
                scales: {
                    x: {
                        grid: { display: false }
                    },
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(221, 215, 204, 0.3)' }
                    }
                }
            }
        });

        // 5. Scatter Plot
        new Chart(document.getElementById('scatterChart'), {
            type: 'bubble',
            data: {
                datasets: [{
                    label: 'Teams',
                    data: data.map(d => ({
                        x: d.total,
                        y: d.percent * 100,
                        r: d.tech * 2,
                        team: teamShortNames[d.team]
                    })),
                    backgroundColor: accentColorAlpha,
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: (context) => {
                                const point = context.raw;
                                return [
                                    point.team,
                                    `Total: ${point.x} sponsors`,
                                    `Tech %: ${point.y.toFixed(1)}%`,
                                    `Tech count: ${point.r / 2}`
                                ];
                            }
                        }
                    },
                    datalabels: {
                        display: false
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Total Number of Sponsors',
                            font: { size: 13, weight: '600' }
                        },
                        grid: { color: 'rgba(221, 215, 204, 0.3)' }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Tech Sponsor %',
                            font: { size: 13, weight: '600' }
                        },
                        grid: { color: 'rgba(221, 215, 204, 0.3)' },
                        ticks: { callback: (value) => value + '%' }
                    }
                }
            }
        });

        // 6. Donut Chart
        const totalTech = data.reduce((sum, d) => sum + d.tech, 0);
        const totalNonTech = data.reduce((sum, d) => sum + (d.total - d.tech), 0);
        new Chart(document.getElementById('donutChart'), {
            type: 'doughnut',
            data: {
                labels: ['Technology Sponsors', 'Non-Tech Sponsors'],
                datasets: [{
                    data: [totalTech, totalNonTech],
                    backgroundColor: [accentColorAlpha, grayColor],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            font: { size: 13, weight: '600' },
                            usePointStyle: true,
                            pointStyle: 'circle'
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: (context) => {
                                const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                const percent = ((context.parsed / total) * 100).toFixed(1);
                                return `${context.label}: ${context.parsed} (${percent}%)`;
                            }
                        }
                    },
                    datalabels: {
                        display: true,
                        color: darkColor,
                        font: {
                            weight: '700',
                            size: 14
                        },
                        formatter: (value, context) => {
                            const total = context.dataset.data.reduce((a, b) => a + b, 0);
                            const percent = ((value / total) * 100).toFixed(1);
                            return `${value}\n(${percent}%)`;
                        }
                    }
                }
            }
        });

        // 7. Stacked Bar Chart
        new Chart(document.getElementById('stackedChart'), {
            type: 'bar',
            data: {
                labels: data.map(d => teamShortNames[d.team]),
                datasets: [
                    {
                        label: 'Tech Sponsors',
                        data: data.map(d => d.tech),
                        backgroundColor: accentColorAlpha,
                        borderWidth: 0,
                        borderRadius: 6,
                        borderSkipped: 'bottom'
                    },
                    {
                        label: 'Non-Tech Sponsors',
                        data: data.map(d => d.total - d.tech),
                        backgroundColor: grayColor,
                        borderWidth: 0,
                        borderRadius: 6,
                        borderSkipped: 'bottom'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            padding: 20,
                            font: { size: 13, weight: '600' },
                            usePointStyle: true,
                            pointStyle: 'circle'
                        }
                    },
                    datalabels: {
                        display: true,
                        align: 'center',
                        anchor: 'center',
                        color: '#FFFFFF',
                        font: {
                            weight: '700',
                            size: 12
                        },
                        formatter: (value) => value > 0 ? value : ''
                    }
                },
                scales: {
                    x: {
                        stacked: true,
                        grid: { display: false }
                    },
                    y: {
                        stacked: true,
                        beginAtZero: true,
                        grid: { color: 'rgba(221, 215, 204, 0.3)' }
                    }
                }
            }
        });

        // 8. Team Technology Category Coverage (Stacked Bar)
        const teamCategoryData = {
            "Oracle Red Bull Racing": { "Data Analytics": 1, "Hardware & Networking": 1, "AI/ML": 1, "Cloud & HPC": 1, "Cybersecurity": 1, "Collaboration": 1, "ERP": 1, "Data Storage": 0 },
            "Mercedes-AMG Petronas F1 Team": { "Data Analytics": 1, "Hardware & Networking": 1, "AI/ML": 1, "Cloud & HPC": 1, "Cybersecurity": 1, "Collaboration": 1, "ERP": 1, "Data Storage": 0 },
            "Scuderia Ferrari HP": { "Data Analytics": 1, "Hardware & Networking": 1, "AI/ML": 1, "Cloud & HPC": 1, "Cybersecurity": 1, "Collaboration": 1, "ERP": 0, "Data Storage": 0 },
            "McLaren F1 Team": { "Data Analytics": 1, "Hardware & Networking": 1, "AI/ML": 1, "Cloud & HPC": 1, "Cybersecurity": 1, "Collaboration": 1, "ERP": 1, "Data Storage": 1 },
            "Aston Martin Aramco F1 Team": { "Data Analytics": 1, "Hardware & Networking": 1, "AI/ML": 0, "Cloud & HPC": 1, "Cybersecurity": 1, "Collaboration": 1, "ERP": 0, "Data Storage": 1 },
            "BWT Alpine F1 Team": { "Data Analytics": 1, "Hardware & Networking": 1, "AI/ML": 1, "Cloud & HPC": 1, "Cybersecurity": 1, "Collaboration": 0, "ERP": 0, "Data Storage": 0 },
            "Atlassian Williams Racing": { "Data Analytics": 1, "Hardware & Networking": 0, "AI/ML": 1, "Cloud & HPC": 0, "Cybersecurity": 1, "Collaboration": 1, "ERP": 0, "Data Storage": 1 },
            "Visa Cash App Racing Bulls": { "Data Analytics": 1, "Hardware & Networking": 1, "AI/ML": 1, "Cloud & HPC": 0, "Cybersecurity": 0, "Collaboration": 0, "ERP": 0, "Data Storage": 0 },
            "MoneyGram Haas F1 Team": { "Data Analytics": 0, "Hardware & Networking": 1, "AI/ML": 0, "Cloud & HPC": 0, "Cybersecurity": 0, "Collaboration": 0, "ERP": 0, "Data Storage": 0 },
            "Kick Sauber F1 Team": { "Data Analytics": 1, "Hardware & Networking": 1, "AI/ML": 1, "Cloud & HPC": 1, "Cybersecurity": 0, "Collaboration": 0, "ERP": 0, "Data Storage": 0 }
        };

        const categoryNames = ["Data Analytics", "Hardware & Networking", "AI/ML", "Cloud & HPC", "Cybersecurity", "Collaboration", "ERP", "Data Storage"];
        const categoryColors = [
            'rgba(235, 94, 40, 0.9)',   // Data Analytics
            'rgba(235, 94, 40, 0.8)',   // Hardware & Networking
            'rgba(235, 94, 40, 0.7)',   // AI/ML
            'rgba(235, 94, 40, 0.6)',   // Cloud & HPC
            'rgba(235, 94, 40, 0.5)',   // Cybersecurity
            'rgba(235, 94, 40, 0.4)',   // Collaboration
            'rgba(204, 197, 185, 0.7)', // ERP
            'rgba(204, 197, 185, 0.5)'  // Data Storage
        ];

        // Create datasets for each category
        const teamCategoryDatasets = categoryNames.map((category, index) => ({
            label: category,
            data: Object.keys(teamCategoryData).map(team => teamCategoryData[team][category]),
            backgroundColor: categoryColors[index],
            borderWidth: 0,
            borderRadius: 6,
            borderSkipped: 'start'
        }));

        new Chart(document.getElementById('teamCategoryChart'), {
            type: 'bar',
            data: {
                labels: Object.keys(teamCategoryData).map(team => teamShortNames[team] || team),
                datasets: teamCategoryDatasets
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            padding: 15,
                            font: { size: 11, weight: '600' },
                            usePointStyle: true,
                            pointStyle: 'circle'
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: (context) => {
                                const category = context.dataset.label;
                                const value = context.parsed.x;
                                return value === 1 ? `${category}: Present` : null;
                            },
                            footer: (tooltipItems) => {
                                const total = tooltipItems.reduce((sum, item) => sum + item.parsed.x, 0);
                                return `Total categories: ${total}`;
                            }
                        }
                    },
                    datalabels: {
                        display: false
                    }
                },
                scales: {
                    x: {
                        stacked: true,
                        display: false,
                        max: 8
                    },
                    y: {
                        stacked: true,
                        grid: { display: false }
                    }
                }
            }
        });

        // 9. Technology Category Distribution (Donut Chart)
        const categoryData = {
            "Data Analytics": 9,
            "Hardware & Networking": 9,
            "AI/ML": 8,
            "Cloud & HPC": 7,
            "Cybersecurity": 7,
            "Collaboration": 6,
            "ERP": 3,
            "Data Storage": 3
        };

        const categoryLabels = Object.keys(categoryData);
        const categoryValues = Object.values(categoryData);

        new Chart(document.getElementById('categoryDistributionChart'), {
            type: 'doughnut',
            data: {
                labels: categoryLabels,
                datasets: [{
                    data: categoryValues,
                    backgroundColor: [
                        'rgba(235, 94, 40, 0.9)',
                        'rgba(235, 94, 40, 0.8)',
                        'rgba(235, 94, 40, 0.7)',
                        'rgba(235, 94, 40, 0.6)',
                        'rgba(235, 94, 40, 0.5)',
                        'rgba(235, 94, 40, 0.4)',
                        'rgba(204, 197, 185, 0.7)',
                        'rgba(204, 197, 185, 0.5)'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: {
                            padding: 15,
                            font: { size: 11, weight: '600' },
                            usePointStyle: true,
                            pointStyle: 'circle',
                            generateLabels: (chart) => {
                                const data = chart.data;
                                return data.labels.map((label, i) => ({
                                    text: `${label} (${data.datasets[0].data[i]})`,
                                    fillStyle: data.datasets[0].backgroundColor[i],
                                    strokeStyle: 'transparent',
                                    lineWidth: 0,
                                    hidden: false,
                                    index: i
                                }));
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: (context) => {
                                const label = context.label;
                                const value = context.parsed;
                                const percent = ((value / 10) * 100).toFixed(0);
                                return `${label}: ${value} teams (${percent}%)`;
                            }
                        }
                    },
                    datalabels: {
                        display: true,
                        color: '#FFFFFF',
                        font: {
                            weight: '700',
                            size: 13
                        },
                        formatter: (value) => {
                            return value;
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>